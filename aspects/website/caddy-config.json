{
  "website": {
    "listen": [":443"],
    "routes": [
      {
        "match": [
          {
            "host": ["samuel.hobl.at", "samho.xyz", "www.samho.xyz"]
          }
        ],
        "handle": [
          {
            "handler": "subroute",
            "routes": [
              {
                "handle": [
                  {
                    "handler": "vars",
                    "root": "/var/www/quartz/public"
                  }
                ]
              },
              {
                "handle": [
                  {
                    "handler": "rewrite",
                    "uri": "{http.matchers.file.relative}"
                  }
                ],
                "match": [
                  {
                    "file": {
                      "try_files": [
                        "{http.request.uri.path}",
                        "{http.request.uri.path}.html"
                      ]
                    }
                  }
                ]
              },
              {
                "handle": [
                  {
                    "encodings": {
                      "gzip": {},
                      "zstd": {}
                    },
                    "handler": "encode",
                    "prefer": ["zstd", "gzip"]
                  },
                  {
                    "handler": "file_server",
                    "hide": [".git"]
                  }
                ]
              }
            ]
          }
        ],
        "terminal": true
      }
    ]
  }
}
